{"version":3,"sources":["webpack:///./node_modules/vue-google-signin-button-directive/index.js","webpack:///./src/views/Home.vue?df45","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?bec1","webpack:///./src/views/Home.vue"],"names":["directive","bind","el","binding","vnode","CheckComponentMethods","clientId","value","googleSignInAPI","document","createElement","InitGoogleButton","gapi","load","auth2","init","client_id","cookiepolicy","attachClickHandler","OnSuccess","Onfail","googleUser","context","OnGoogleAuthSuccess","getAuthResponse","id_token","disconnect","error","OnGoogleAuthFail","Error","setAttribute","head","appendChild","onload","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","directives","name","rawName","expression","staticRenderFns","axios","GoogleSignInButton","computed","data","show","methods","idToken","post","host","then","response","defaults","headers","common","localStorage","auth","$store","dispatch","$router","push","console","log","component","VBtn","VResponsive"],"mappings":"sHAGe,cAAIA,UAAU,uBAAwB,CACnDC,KAAM,SAAUC,EAAIC,EAASC,GAC3BC,IACA,IAAIC,EAAWH,EAAQI,MACnBC,EAAkBC,SAASC,cAAc,UAM7C,SAASC,IACPC,KAAKC,KAAK,QAAS,KACjB,MAAMC,EAAQF,KAAKE,MAAMC,KAAK,CAC5BC,UAAWV,EACXW,aAAc,uBAEhBH,EAAMI,mBAAmBhB,EAAI,GAC3BiB,EACAC,KAIN,SAASD,EAAUE,GACjBjB,EAAMkB,QAAQC,oBAAoBF,EAAWG,kBAAkBC,UAC/DJ,EAAWK,aAEb,SAASN,EAAOO,GACdvB,EAAMkB,QAAQM,iBAAiBD,GAEjC,SAAStB,IACP,IAAKD,EAAMkB,QAAQC,oBACjB,MAAM,IAAIM,MAAM,mEAGlB,IAAKzB,EAAMkB,QAAQM,iBACjB,MAAM,IAAIC,MAAM,gEA9BpBrB,EAAgBsB,aAAa,MAAO,4CACpCrB,SAASsB,KAAKC,YAAYxB,GAE1BA,EAAgByB,OAAStB,M,yCCX7B,IAAIuB,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,eAAe,CAACE,MAAM,CAAC,OAAS,SAAS,CAACF,EAAG,MAAM,CAACG,YAAY,mCAAmC,CAACH,EAAG,KAAK,CAACG,YAAY,gDAAgDD,MAAM,CAAC,MAAQ,SAAS,CAACN,EAAIQ,GAAG,eAAeJ,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACC,KAAK,uBAAuBC,QAAQ,yBAAyBvC,MAAO4B,EAAY,SAAEY,WAAW,aAAaN,MAAM,CAAC,MAAQ,GAAG,SAAW,GAAG,KAAO,GAAG,UAAU,KAAK,CAACN,EAAIQ,GAAG,0BAA0BJ,EAAG,OAAO,CAACG,YAAY,uCAAuC,CAACP,EAAIQ,GAAG,yKAAyK,MACpwBK,EAAkB,G,wBCoBtB,MAAMC,EAAQ,EAAQ,QAIP,OACbL,WAAY,CACVM,mBAAA,QAEFC,SAAU,IACL,eAAS,CAAC,UAEfC,KAAM,KAAM,CACV9C,SACE,2EACF+C,MAAM,IAERC,QAAS,CACP,oBAAoBC,GAElBN,EACGO,KAAKpB,KAAKqB,KAAO,gBAAiB,CACjCF,YAEDG,KAAMC,IACLV,EAAMW,SAASC,QAAQC,OAAO,iBAAmBH,EAASP,KAC1DW,aAAaC,KAAOL,EAASP,KAC7BhB,KAAK6B,OAAOC,SAAS,WAAWR,KAAMC,IACtCvB,KAAK+B,QAAQC,KAAK,iBAKxB,iBAAiBzC,GACf0C,QAAQC,IAAI3C,MCtD2K,I,yDCOzL4C,EAAY,eACd,EACArC,EACAc,GACA,EACA,KACA,KACA,MAIa,aAAAuB,EAAiB,QAMhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,cAAA","file":"js/home.ae5ac700.js","sourcesContent":["\r\nimport Vue from 'vue'\r\n\r\nexport default Vue.directive('google-signin-button', {\r\n  bind: function (el, binding, vnode) {\r\n    CheckComponentMethods()\r\n    let clientId = binding.value\r\n    let googleSignInAPI = document.createElement('script')\r\n    googleSignInAPI.setAttribute('src', 'https://apis.google.com/js/api:client.js')\r\n    document.head.appendChild(googleSignInAPI)\r\n\r\n    googleSignInAPI.onload = InitGoogleButton\r\n\r\n    function InitGoogleButton() {\r\n      gapi.load('auth2', () => {\r\n        const auth2 = gapi.auth2.init({\r\n          client_id: clientId,\r\n          cookiepolicy: 'single_host_origin'\r\n        })\r\n        auth2.attachClickHandler(el, {},\r\n          OnSuccess,\r\n          Onfail\r\n        )\r\n      })\r\n    }\r\n    function OnSuccess(googleUser) {\r\n      vnode.context.OnGoogleAuthSuccess(googleUser.getAuthResponse().id_token)\r\n      googleUser.disconnect()\r\n    }\r\n    function Onfail(error) {\r\n      vnode.context.OnGoogleAuthFail(error)\r\n    }\r\n    function CheckComponentMethods() {\r\n      if (!vnode.context.OnGoogleAuthSuccess) {\r\n        throw new Error('The method OnGoogleAuthSuccess must be defined on the component')\r\n      }\r\n\r\n      if (!vnode.context.OnGoogleAuthFail) {\r\n        throw new Error('The method OnGoogleAuthFail must be defined on the component')\r\n      }\r\n    }\r\n  }\r\n})\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-responsive',{attrs:{\"height\":\"100%\"}},[_c('div',{staticClass:\"d-flex flex-column align-center\"},[_c('h1',{staticClass:\"display-4 white--text text-center mt-12 pa-12\",attrs:{\"width\":\"100%\"}},[_vm._v(\" ReStack \")]),_c('v-btn',{directives:[{name:\"google-signin-button\",rawName:\"v-google-signin-button\",value:(_vm.clientId),expression:\"clientId\"}],attrs:{\"large\":\"\",\"outlined\":\"\",\"dark\":\"\",\"x-large\":\"\"}},[_vm._v(\"Continue with google\")]),_c('span',{staticClass:\"pa-12 white--text text-center title\"},[_vm._v(\"Effective learning with spaced repetition. Create Stacks with flashcards and start learning. Share your Stacks with friends or invite them to collaborate together\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-responsive height=\"100%\">\n    <!-- <v-img src=\"https://i.imgur.com/DZFku3D.jpg\" height=\"100%\" width=\"100%\"> -->\n      <div class=\"d-flex flex-column align-center\">\n        <h1 class=\"display-4 white--text text-center mt-12 pa-12\" width=\"100%\">\n          ReStack\n        </h1>\n        <v-btn large outlined dark x-large v-google-signin-button=\"clientId\">Continue with google</v-btn>\n\n        <span class=\"pa-12 white--text text-center title\"\n          >Effective learning with spaced repetition. Create Stacks with\n          flashcards and start learning. Share your Stacks with friends or\n          invite them to collaborate together</span\n        >\n      </div>\n    <!-- </v-img> -->\n  </v-responsive>\n</template>\n\n<script>\n// @ is an alias to /src\nconst axios = require(\"axios\");\nimport { mapState } from \"vuex\";\n\nimport GoogleSignInButton from \"vue-google-signin-button-directive\";\nexport default {\n  directives: {\n    GoogleSignInButton,\n  },\n  computed: {\n    ...mapState([\"host\"]),\n  },\n  data: () => ({\n    clientId:\n      \"256693553552-01bl6ulv29bolub2l5pgna5jovkd84pl.apps.googleusercontent.com\",\n    show: false\n  }),\n  methods: {\n    OnGoogleAuthSuccess(idToken) {\n      // Receive the idToken and make your magic with the backend\n      axios\n        .post(this.host + \"/auth/google/\", {\n          idToken,\n        })\n        .then((response) => {\n          axios.defaults.headers.common[\"Authorization\"] = response.data;\n          localStorage.auth = response.data;\n          this.$store.dispatch(\"getUser\").then((response)=>{\n          this.$router.push('/account')\n          })\n        });\n      //todo handle errors, 401\n    },\n    OnGoogleAuthFail(error) {\n      console.log(error);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=94ff96f8&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VResponsive } from 'vuetify/lib/components/VResponsive';\ninstallComponents(component, {VBtn,VResponsive})\n"],"sourceRoot":""}