{"version":3,"sources":["webpack:///./node_modules/vuetify/lib/components/VCard/index.js","webpack:///./node_modules/vue-google-signin-button-directive/index.js","webpack:///./src/views/Home.vue?a6fc","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?bec1","webpack:///./src/views/Home.vue"],"names":["VCardActions","VCardSubtitle","VCardText","VCardTitle","directive","bind","el","binding","vnode","CheckComponentMethods","clientId","value","googleSignInAPI","document","createElement","InitGoogleButton","gapi","load","auth2","init","client_id","cookiepolicy","attachClickHandler","OnSuccess","Onfail","googleUser","context","OnGoogleAuthSuccess","getAuthResponse","id_token","disconnect","error","OnGoogleAuthFail","Error","setAttribute","head","appendChild","onload","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","directives","name","rawName","expression","model","callback","$$v","show","_l","username","key","on","$event","chooseUsername","_s","staticRenderFns","axios","GoogleSignInButton","computed","data","usernames","methods","idToken","console","log","post","then","response","defaults","headers","common","token","localStorage","auth","names","$store","dispatch","continueToApp","$route","query","redirect","$router","push","component","VBtn","VCard","VCol","VOverlay","VResponsive","VRow"],"mappings":"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","file":"js/home.ab5c301d.js","sourcesContent":["import VCard from './VCard';\nimport { createSimpleFunctional } from '../../util/helpers';\nconst VCardActions = createSimpleFunctional('v-card__actions');\nconst VCardSubtitle = createSimpleFunctional('v-card__subtitle');\nconst VCardText = createSimpleFunctional('v-card__text');\nconst VCardTitle = createSimpleFunctional('v-card__title');\nexport { VCard, VCardActions, VCardSubtitle, VCardText, VCardTitle };\nexport default {\n  $_vuetify_subcomponents: {\n    VCard,\n    VCardActions,\n    VCardSubtitle,\n    VCardText,\n    VCardTitle\n  }\n};\n//# sourceMappingURL=index.js.map","\r\nimport Vue from 'vue'\r\n\r\nexport default Vue.directive('google-signin-button', {\r\n  bind: function (el, binding, vnode) {\r\n    CheckComponentMethods()\r\n    let clientId = binding.value\r\n    let googleSignInAPI = document.createElement('script')\r\n    googleSignInAPI.setAttribute('src', 'https://apis.google.com/js/api:client.js')\r\n    document.head.appendChild(googleSignInAPI)\r\n\r\n    googleSignInAPI.onload = InitGoogleButton\r\n\r\n    function InitGoogleButton() {\r\n      gapi.load('auth2', () => {\r\n        const auth2 = gapi.auth2.init({\r\n          client_id: clientId,\r\n          cookiepolicy: 'single_host_origin'\r\n        })\r\n        auth2.attachClickHandler(el, {},\r\n          OnSuccess,\r\n          Onfail\r\n        )\r\n      })\r\n    }\r\n    function OnSuccess(googleUser) {\r\n      vnode.context.OnGoogleAuthSuccess(googleUser.getAuthResponse().id_token)\r\n      googleUser.disconnect()\r\n    }\r\n    function Onfail(error) {\r\n      vnode.context.OnGoogleAuthFail(error)\r\n    }\r\n    function CheckComponentMethods() {\r\n      if (!vnode.context.OnGoogleAuthSuccess) {\r\n        throw new Error('The method OnGoogleAuthSuccess must be defined on the component')\r\n      }\r\n\r\n      if (!vnode.context.OnGoogleAuthFail) {\r\n        throw new Error('The method OnGoogleAuthFail must be defined on the component')\r\n      }\r\n    }\r\n  }\r\n})\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-responsive',{attrs:{\"height\":\"100%\"}},[_c('div',{staticClass:\"d-flex flex-column align-center\"},[_c('h1',{staticClass:\"display-4 white--text text-center mt-12 pa-12\",attrs:{\"width\":\"100%\"}},[_vm._v(\" ReStick \")]),_c('v-btn',{directives:[{name:\"google-signin-button\",rawName:\"v-google-signin-button\",value:(_vm.clientId),expression:\"clientId\"}],attrs:{\"large\":\"\",\"outlined\":\"\",\"dark\":\"\",\"x-large\":\"\"}},[_vm._v(\"Continue with google\")]),_c('span',{staticClass:\"pa-12 white--text text-center title\"},[_vm._v(\"Effective learning with spaced repetition. Create Stacks with flashcards and start learning. Share your Stacks with friends or invite them to collaborate together\")]),_c('span',{staticClass:\"white--text title\"},[_vm._v(\" 0.2.0a \")]),_c('span',{staticClass:\"white--text\"},[_vm._v(\" App in development \")])],1),_c('v-overlay',{model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('v-row',[_c('v-col',{staticClass:\"px-10\",attrs:{\"cols\":\"12\"}},[_c('v-card',{attrs:{\"light\":\"\"}},[_c('v-card-title',[_vm._v(\"Choose a username!\")])],1)],1),_vm._l((_vm.usernames),function(username){return _c('v-col',{key:username,staticClass:\"px-10\",attrs:{\"cols\":\"12\"}},[_c('v-card',{attrs:{\"light\":\"\"},on:{\"click\":function($event){return _vm.chooseUsername(username)}}},[_c('v-card-text',{staticClass:\"headline\"},[_vm._v(\" \"+_vm._s(username)+\" \")])],1)],1)})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-responsive height=\"100%\">\r\n    <!-- <v-img src=\"https://i.imgur.com/DZFku3D.jpg\" height=\"100%\" width=\"100%\"> -->\r\n    <div class=\"d-flex flex-column align-center\">\r\n      <h1 class=\"display-4 white--text text-center mt-12 pa-12\" width=\"100%\">\r\n        ReStick\r\n      </h1>\r\n      <v-btn large outlined dark x-large v-google-signin-button=\"clientId\"\r\n        >Continue with google</v-btn\r\n      >\r\n\r\n      <span class=\"pa-12 white--text text-center title\"\r\n        >Effective learning with spaced repetition. Create Stacks with\r\n        flashcards and start learning. Share your Stacks with friends or invite\r\n        them to collaborate together</span\r\n      >\r\n      <span class=\"white--text title\"> 0.2.0a </span>\r\n      <span class=\"white--text\"> App in development </span>\r\n    </div>\r\n    <v-overlay v-model=\"show\">\r\n      <v-row>\r\n        <v-col cols=\"12\" class=\"px-10\">\r\n          <v-card light>\r\n            <v-card-title>Choose a username!</v-card-title>\r\n          </v-card>\r\n        </v-col>\r\n        <v-col\r\n          cols=\"12\"\r\n          v-for=\"username in usernames\"\r\n          v-bind:key=\"username\"\r\n          class=\"px-10\"\r\n        >\r\n          <v-card light @click=\"chooseUsername(username)\">\r\n            <v-card-text class=\"headline\">\r\n              {{ username }}\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-overlay>\r\n    <!-- </v-img> -->\r\n  </v-responsive>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nconst axios = require(\"axios\");\r\nimport { mapState } from \"vuex\";\r\n\r\nimport GoogleSignInButton from \"vue-google-signin-button-directive\";\r\nexport default {\r\n  directives: {\r\n    GoogleSignInButton,\r\n  },\r\n  computed: {\r\n    ...mapState([\"host\", \"user\"]),\r\n  },\r\n  data: () => ({\r\n    clientId:\r\n      \"256693553552-01bl6ulv29bolub2l5pgna5jovkd84pl.apps.googleusercontent.com\",\r\n    usernames: [\"test1\", \"test2\", \"test3\", \"test4\", \"test5\"],\r\n    show: false,\r\n  }),\r\n  methods: {\r\n    OnGoogleAuthSuccess(idToken) {\r\n      // Receive the idToken and make your magic with the backend\r\n      console.log(process.env.VUE_APP_API);\r\n      axios\r\n        .post(process.env.VUE_APP_API + \"/api/auth/\", {\r\n          idToken,\r\n        })\r\n        .then((response) => {\r\n          axios.defaults.headers.common[\"Authorization\"] = response.data.token;\r\n          localStorage.auth = response.data.token;\r\n          console.log(response.data);\r\n          this.usernames = response.data.names;\r\n          this.chooseUsername(response.data.names[0]);\r\n          //TODO Change so you get to choose yourself, needs more data from db.\r\n          // this.show = true;\r\n\r\n          // this.$store.dispatch(\"getUser\").then((response)=>{\r\n          // this.$router.push('/account')\r\n          // })\r\n        });\r\n      //todo handle errors, 401\r\n    },\r\n    chooseUsername(name) {\r\n      axios\r\n        .post(process.env.VUE_APP_API + \"/api/user\", {\r\n          username: name,\r\n        })\r\n        .then((response) => {\r\n          this.$store.dispatch(\"getUser\").then((response) => {\r\n            this.continueToApp();\r\n          });\r\n        });\r\n    },\r\n    OnGoogleAuthFail(error) {\r\n      console.log(error);\r\n    },\r\n    continueToApp() {\r\n      console.log(this.$route);\r\n      if (this.$route.query.redirect) {\r\n        this.$router.push(this.$route.query.redirect);\r\n      } else this.$router.push(\"/account\");\r\n    },\r\n  },\r\n  created() {\r\n    if (localStorage.auth) {\r\n      this.$router.push(\"/account\");\r\n    }\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=03c99a0b&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VResponsive } from 'vuetify/lib/components/VResponsive';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VOverlay,VResponsive,VRow})\n"],"sourceRoot":""}